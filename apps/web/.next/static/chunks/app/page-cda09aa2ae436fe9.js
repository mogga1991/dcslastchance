(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{727:(e,t,r)=>{Promise.resolve().then(r.bind(r,6122))},992:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>d,A:()=>h});var a=r(4568),s=r(7620);let l=r(7011).env.NEXT_PUBLIC_API_URL||"http://localhost:4000";class n extends Error{constructor(e,t,r){super(t),this.status=e,this.message=t,this.data=r,this.name="ApiError"}}async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{token:r,...a}=t,s={"Content-Type":"application/json",...a.headers};r&&(s.Authorization="Bearer ".concat(r));let i=await fetch("".concat(l).concat(e),{...a,headers:s}),o=await i.json();if(!i.ok)throw new n(i.status,o.error||"Request failed",o);return o}let o={login:(e,t)=>i("/api/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})}),getMe:e=>i("/api/auth/me",{token:e})},c=(0,s.createContext)(void 0);function d(e){let{children:t}=e,[r,l]=(0,s.useState)(null),[n,i]=(0,s.useState)(null),[d,h]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=localStorage.getItem("govcon_token");e?o.getMe(e).then(t=>{l(t),i(e)}).catch(()=>{localStorage.removeItem("govcon_token")}).finally(()=>{h(!1)}):h(!1)},[]);let m=async(e,t)=>{let r=await o.login(e,t);l(r.user),i(r.token),localStorage.setItem("govcon_token",r.token)};return(0,a.jsx)(c.Provider,{value:{user:r,token:n,loading:d,login:m,logout:()=>{l(null),i(null),localStorage.removeItem("govcon_token")}},children:t})}function h(){let e=(0,s.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2068:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(7620);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:h,...m}=e;return(0,a.createElement)("svg",{ref:t,...n,width:s,height:s,stroke:r,strokeWidth:o?24*Number(i)/Number(s):i,className:l("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...h.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{className:o,...c}=r;return(0,a.createElement)(i,{ref:n,iconNode:t,className:l("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...c})});return r.displayName=s(e),r}},6122:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var a=r(4568),s=r(992),l=r(7541),n=r(7620);function i(e){let{children:t}=e,{user:r,loading:i}=(0,s.A)(),o=(0,l.useRouter)();return((0,n.useEffect)(()=>{i||r||o.push("/login")},[r,i,o]),i)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):r?(0,a.jsx)(a.Fragment,{children:t}):null}var o=r(2068);let c=(0,o.A)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),d=(0,o.A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),h=(0,o.A)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),m=(0,o.A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),x=(0,o.A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),u=(0,o.A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),g=(0,o.A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),p=(0,o.A)("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),y=(0,o.A)("menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),f=[{name:"Dashboard",href:"/",icon:c},{name:"Opportunities",href:"/opportunities",icon:d},{name:"Capability Library",href:"/capabilities",icon:h},{name:"Proposals",href:"/proposals",icon:m},{name:"Team",href:"/team",icon:x,roles:["admin","capture"]},{name:"Settings",href:"/settings",icon:u,roles:["admin"]}];function v(e){let{children:t}=e,{user:r,logout:i}=(0,s.A)(),o=(0,l.useRouter)(),c=(0,l.usePathname)(),[d,h]=(0,n.useState)(!1),m=f.filter(e=>{var t;return!(t=e.roles)||0===t.length||(null==r?void 0:r.roles.some(e=>t.includes(e)))});return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[d&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 z-20 lg:hidden",onClick:()=>h(!1)}),(0,a.jsx)("div",{className:"fixed inset-y-0 left-0 z-30 w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out lg:translate-x-0 ".concat(d?"translate-x-0":"-translate-x-full"),children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"GovCon OS"}),(0,a.jsx)("button",{onClick:()=>h(!1),className:"lg:hidden text-gray-500 hover:text-gray-700",children:(0,a.jsx)(g,{className:"h-6 w-6"})})]}),(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:null==r?void 0:r.name}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:null==r?void 0:r.email}),(0,a.jsx)("div",{className:"mt-2 flex flex-wrap gap-1",children:null==r?void 0:r.roles.map(e=>(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-primary/10 text-primary",children:e},e))})]}),(0,a.jsx)("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto",children:m.map(e=>{let t=e.icon,r=c===e.href;return(0,a.jsxs)("a",{href:e.href,className:"flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat(r?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"),children:[(0,a.jsx)(t,{className:"mr-3 h-5 w-5"}),e.name]},e.name)})}),(0,a.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,a.jsxs)("button",{onClick:()=>{i(),o.push("/login")},className:"flex items-center w-full px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 transition-colors",children:[(0,a.jsx)(p,{className:"mr-3 h-5 w-5"}),"Sign out"]})})]})}),(0,a.jsxs)("div",{className:"lg:pl-64",children:[(0,a.jsxs)("div",{className:"sticky top-0 z-10 flex h-16 bg-white border-b border-gray-200 lg:hidden",children:[(0,a.jsx)("button",{onClick:()=>h(!0),className:"px-4 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary",children:(0,a.jsx)(y,{className:"h-6 w-6"})}),(0,a.jsx)("div",{className:"flex-1 flex items-center px-4",children:(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"GovCon OS"})})]}),(0,a.jsx)("main",{className:"p-6",children:t})]})]})}let b=(0,o.A)("trending-up",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);function j(){let{user:e}=(0,s.A)(),t=[{name:"Active Opportunities",value:"0",icon:d,color:"bg-blue-500"},{name:"Capability Documents",value:"0",icon:h,color:"bg-green-500"},{name:"Active Proposals",value:"0",icon:m,color:"bg-purple-500"},{name:"Avg Bid Score",value:"-",icon:b,color:"bg-orange-500"}];return(0,a.jsx)(i,{children:(0,a.jsx)(v,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",null==e?void 0:e.name]}),(0,a.jsx)("p",{className:"mt-2 text-gray-600",children:"Here's what's happening with your opportunities today."})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:t.map(e=>{let t=e.icon;return(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"".concat(e.color," rounded-lg p-3"),children:(0,a.jsx)(t,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.name}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.value})]})]})},e.name)})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[(0,a.jsxs)("button",{className:"flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,a.jsx)(d,{className:"h-5 w-5 mr-2 text-gray-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Add Opportunity"})]}),(0,a.jsxs)("button",{className:"flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,a.jsx)(h,{className:"h-5 w-5 mr-2 text-gray-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Upload Capability Doc"})]}),(0,a.jsxs)("button",{className:"flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,a.jsx)(m,{className:"h-5 w-5 mr-2 text-gray-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Create Proposal"})]})]})]}),(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"\uD83C\uDF89 Sprint 1 Complete!"}),(0,a.jsx)("p",{className:"text-sm text-green-800",children:"Foundation is ready: Auth, RBAC, Capability Evidence Locker tables, and Bid/No-Bid scoring schema are all in place."}),(0,a.jsx)("p",{className:"text-sm text-green-800 mt-2",children:"Next steps: Sprint 2 (Opportunities), Sprint 3 (Documents), Sprint 4 (Extraction), Sprint 5 (Compliance Matrix), Sprint 5.5 (Capability Evidence + Bid/No-Bid UI)"})]})]})})})}},7541:(e,t,r)=>{"use strict";var a=r(3041);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})}},e=>{e.O(0,[587,18,358],()=>e(e.s=727)),_N_E=e.O()}]);